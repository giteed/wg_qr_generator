# wg_qr_generator

**wg_qr_generator** ‚Äì —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è WireGuard, –≤–∫–ª—é—á–∞—é—â–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, —Å–æ–∑–¥–∞–Ω–∏–µ QR-–∫–æ–¥–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –æ—á–∏—Å—Ç–∫—É —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –±–∞–∑–µ **Gradio** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ QR-–∫–æ–¥–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞, –ø—Ä–æ–¥–ª–µ–Ω–∏–µ, —Å–±—Ä–æ—Å —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤.
- **–£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤, IP-–∞–¥—Ä–µ—Å–æ–≤ –∏ QR-–∫–æ–¥–æ–≤.
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º WireGuard.
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ü—Ä–æ—Å—Ç–∞—è –∏ —É–¥–æ–±–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞ –Ω–∞ –±–∞–∑–µ Gradio –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

---

## –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Gradio

**Gradio Admin Panel** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è:

- –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- –°–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –†—É—á–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏ —Ç–µ–∫—É—â–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.

### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–¥–º–∏–Ω–∫—É

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç:

```plaintext
3. –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω–∫—É
```

–ê–¥–º–∏–Ω–∫–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É **7860**, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∞–¥—Ä–µ—Å—É:

```
http://127.0.0.1:7860
```

–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∏–º–µ–µ—Ç –≤–Ω–µ—à–Ω–∏–π IP, –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω–∫—É –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –î–ª—è —ç—Ç–æ–≥–æ –≤–∫–ª—é—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ –ø–æ—Ä—Ç **7860** —á–µ—Ä–µ–∑ `firewalld`. –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç —ç—Ç–æ—Ç –ø–æ—Ä—Ç.

–ê–¥–º–∏–Ω–∫–∞ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ Gradio:

```
üåê –ü—É–±–ª–∏—á–Ω–∞—è —Å—Å—ã–ª–∫–∞: https://<—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–∞–¥—Ä–µ—Å>.gradio.live
```

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Å–∏—Å—Ç–µ–º–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
1. **Python 3.8+** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Python 3.11).
2. **Git** –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
3. **Node.js** –¥–ª—è —Ä–∞–±–æ—Ç—ã Gradio (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python, Git –∏ Node.js –Ω–∞ CentOS Stream 8

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
sudo dnf update -y && sudo dnf install epel-release -y && curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash - && sudo dnf install -y nodejs && node --version  && sudo dnf update -y && sudo dnf install git mc tar gcc curl openssl-devel bzip2-devel libffi-devel zlib-devel -y && sudo dnf install net-tools -y && sudo dnf install python3.11 -y && sudo alternatives --set python3 /usr/bin/python3.11 && python3 --version
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º—É.
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Python 3.11, Git –∏ Node.js.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
```bash
mkdir -p pyWGgen && cd pyWGgen && wget https://raw.githubusercontent.com/licht8/wg_qr_generator/refs/heads/main/run_project.sh && chmod +x run_project.sh && ./run_project.sh
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
1. –°–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `pyWGgen` –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –Ω–µ–µ.
2. –°–∫–∞—á–∏–≤–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç `run_project.sh` –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
3. –î–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç `run_project.sh` –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º.
4. –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ Python, Git –∏ Node.js.
   - –°–æ–∑–¥–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º.

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ `run_project.sh` –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —É–¥–æ–±–Ω–æ–µ –º–µ–Ω—é:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞.
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç (main.py)**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
3. **–û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω–∫—É**: –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ Gradio.
4. **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WireGuard**: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç WireGuard —Å –ø–æ–º–æ—â—å—é `wireguard-install.sh`.
5. **–£–¥–∞–ª–∏—Ç—å WireGuard**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—è–µ—Ç WireGuard —Å —Å–µ—Ä–≤–µ—Ä–∞.
0. **–í—ã—Ö–æ–¥**: –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—ã.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```plaintext
wg_qr_generator-main
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ cleanup.py
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ manage_expiry.py
‚îú‚îÄ‚îÄ menu.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ run_project.sh
‚îú‚îÄ‚îÄ settings.py
‚îú‚îÄ‚îÄ wireguard-install.sh
‚îú‚îÄ‚îÄ gradio_admin
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ create_user.py
‚îÇ   ‚îú‚îÄ‚îÄ delete_user.py
‚îÇ   ‚îú‚îÄ‚îÄ list_users.py
‚îÇ   ‚îú‚îÄ‚îÄ main_interface.py
‚îÇ   ‚îú‚îÄ‚îÄ search_user.py
‚îú‚îÄ‚îÄ modules
‚îÇ   ‚îú‚îÄ‚îÄ account_expiry.py
‚îÇ   ‚îú‚îÄ‚îÄ check_user.py
‚îÇ   ‚îú‚îÄ‚îÄ client_config.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îú‚îÄ‚îÄ config_writer.py
‚îÇ   ‚îú‚îÄ‚îÄ directory_setup.py
‚îÇ   ‚îú‚îÄ‚îÄ ip_management.py
‚îÇ   ‚îú‚îÄ‚îÄ keygen.py
‚îÇ   ‚îú‚îÄ‚îÄ qr_generator.py
‚îÇ   ‚îú‚îÄ‚îÄ sync.py
‚îÇ   ‚îú‚îÄ‚îÄ user_management.py
‚îÇ   ‚îú‚îÄ‚îÄ utils.py
‚îî‚îÄ‚îÄ test
    ‚îú‚îÄ‚îÄ test_account_expiry.py
    ‚îú‚îÄ‚îÄ test_check_user.py
    ‚îú‚îÄ‚îÄ test_config_writer.py
    ‚îú‚îÄ‚îÄ test_directory_setup.py
    ‚îú‚îÄ‚îÄ test_ip_management.py
    ‚îú‚îÄ‚îÄ test_keygen.py
    ‚îú‚îÄ‚îÄ test_qr_generator.py
    ‚îú‚îÄ‚îÄ test_sync.py
    ‚îî‚îÄ‚îÄ test_user_management.py
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ –º–µ–Ω—é –∏–ª–∏ –∫–æ–º–∞–Ω–¥–æ–π:
```bash
pytest
```

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](LICENSE).

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ —á–µ—Ä–µ–∑ [Issues](https://github.com/licht8/wg_qr_generator/issues).
